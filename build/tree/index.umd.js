(function(l,r){typeof exports=="object"&&typeof module!="undefined"?r(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],r):(l=typeof globalThis!="undefined"?globalThis:l||self,r(l.index={},l.Vue))})(this,function(l,r){"use strict";function u(t,e=0,o={}){return e++,t.reduce((d,a)=>{const n={...a};if(n.level=e,e>1&&o&&(n.parentId=o.id),n.children){const s=u(n.children,e,n);return delete n.children,d.concat(n,s)}else return n.isLeaf=!0,d.concat(n)},[])}function x(t){const e=r.ref(u(r.unref(t))),o=n=>{const s=e.value.find(i=>i.id===n.id);s&&(s.expanded=!s.expanded)},d=r.computed(()=>{let n=[];const s=[];for(const i of e.value)n.includes(i)||(i.expanded!==!0&&(n=a(i)),s.push(i));return s}),a=n=>{const s=[],i=e.value.findIndex(c=>c.id===n.id);for(let c=i+1;c<e.value.length&&n.level<e.value[c].level;c++)s.push(e.value[c]);return s};return{innerData:e,toggleNode:o,expandedTree:d,getChildren:a}}const g={data:{type:Object,required:!0}};var f=r.defineComponent({name:"Tree",props:g,setup(t,{slots:e}){const{data:o}=r.toRefs(t),{expandedTree:d,toggleNode:a}=x(o);return()=>r.createVNode("div",{class:"s-tree"},[d.value.map(n=>{const{level:s,isLeaf:i,expanded:c}=n;return r.createVNode("div",{class:"s-tree-node hover:bg-slate-600",style:{paddingLeft:`${24*(s-1)}px`}},[i?r.createVNode("span",{style:{display:"inline-block",width:"25px"}},null):r.createVNode("svg",{onClick:()=>a(n),style:{width:"18px",height:"18px",display:"inline-block",transform:c?"rotate(90deg)":""},viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"},[r.createVNode("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"},null)]),n.label])})])}});const h="s",p="_sheep",m="S",P=(t,e={classPrefix:h})=>{var o;t.config.globalProperties[p]={...(o=t.config.globalProperties[p])!=null?o:{},classPrefix:e.classPrefix}},v=t=>{var e;return(e=t==null?void 0:t.componentPrefix)!=null?e:m};function T(t,e,o){const d=v(o);t.component(d+e.name)||(P(t,o),t.component(d+e.name,e))}var b={install(t,e){T(t,f,e)}};l.Tree=f,l.default=b,Object.defineProperties(l,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
